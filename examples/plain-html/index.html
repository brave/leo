<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#000000" />
  <meta
    name="description"
    content="Web site created using HTML & Web Components" />
  <link href="./css/variables.css" rel="stylesheet" />
  <title>Web Components</title>
  <style>
    .component-container {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

  </style>
</head>

<body>
  <noscript>You need to enable JavaScript to run this app.</noscript>
  <script type="module">
    import './leo/button.js'
    import './leo/collapse.js'
    import './leo/toggle.js'
    import './leo/progressRing.js'
    import './leo/progressBar.js'
    import './leo/alert.js'
    import { showAlert } from './leo/alertCenter.js'
    import './leo/icon.js'
    import './leo/radioButton.js'
    import './leo/dialog.js'
    import './shared/dialogHelpers.js'

    let count = 10
    const clickable = document.getElementById('clickable')
    const ring = document.querySelector('leo-progressring')
    const bar = document.querySelector('leo-progressbar')
    const toggle = document.querySelector('leo-toggle')
    const toggleButton = document.querySelector('#toggle-button')
    const collapse = document.querySelector('leo-collapse')
    const dialogButton = document.querySelector('#dialog-button')
    const dialog = document.querySelector('leo-dialog')

    clickable.addEventListener('click', () => {
      count += 10
      if (count > 100) count = 0

      const progress = count / 100
      clickable.innerText = `Progress: ${progress}`
      ring.progress = progress
      bar.progress = progress

      showAlert({
        content: `progress is ${progress}`,
        actions: [{
          text: 'dismiss',
          action: a => a.dismiss()
        }]
      })
    })

    let isToggled = false
    const toggled = () => {
      isToggled = !isToggled

      toggle.checked = isToggled
      collapse.isOpen = isToggled
      toggleButton.textContent = `Open: ${isToggled}`
    }

    toggle.addEventListener('change', toggled)
    toggleButton.addEventListener('click', toggled)
    collapse.addEventListener('toggle', toggled)
    dialogButton.addEventListener('click', () => {
      dialog.isOpen = true
      dialogButton.isDisabled = true
    })
    dialog.addEventListener('close', () => dialogButton.isDisabled = false)
  </script>
  <div class="component-container">
    <leo-alertcenter></leo-alertcenter>
    <leo-button id="clickable">Click Me</leo-button>
    <leo-collapse title="Handy dandy title">
      Some content which is hidden by default
    </leo-collapse>
    <leo-toggle>Togglable!</leo-toggle>
    <leo-button kind="outline" id="toggle-button"></leo-button>
    <leo-progressring progress="0.25"></leo-progressring>
    <leo-progressbar progress="0.25"></leo-progressbar>
    <div>
      <leo-radiobutton name="options" value="foo"></leo-radiobutton>
      <leo-radiobutton name="options" value="bar"></leo-radiobutton>
      <leo-radiobutton name="options" value="hello"></leo-radiobutton>
    </div>
    <leo-alert mode="full">
      <span slot="title">Hello World</span>
      <div>This is the content</div>
      <div slot="actions">
        <leo-button>Do the thing</leo-button>
        <leo-button kind="tertiary">Cancel</leo-button>
      </div>
    </leo-alert>
    <leo-button id="dialog-button">Show Dialog</leo-button>
    <leo-dialog showclose>
      <span slot="title">This is the title</span>
      <span slot="subtitle">This is the subtitle</span>
      <div>
        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ipsum pharetra
        est et viverra massa enim aliquam. Volutpat tristique id mi blandit
        interdum elit quam commodo vel. Ac laoreet magna ac sed diam volutpat.
        Sit mauris, orci diam in habitasse nec dolor odio pharetra.

        <div class="alert-container">
          <Alert>
            <div>This is an info box</div>
          </Alert>
        </div>
      </div>
      <div slot="actions">
        <leo-button kind="outline">Secondary</leo-button>
        <leo-button kind="filled">Primary</leo-button>
      </div>
    </leo-dialog>
  </div>
</body>

</html>
